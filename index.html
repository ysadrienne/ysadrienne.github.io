<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Adrienne Yoon MAE 4190: Fast Robots</title>
        <link rel="icon" type="image/x-icon" href="assets/img/misc/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" /> 

    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
            <a class="navbar-brand js-scroll-trigger" href="#page-top">
                <span class="d-block d-lg-none">Adrienne Yoon</span>
                <span class="d-none d-lg-block"><img class="img-fluid img-profile rounded-circle mx-auto mb-2" src="assets/img/misc/profile.jpg" alt="..." /></span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#about">About</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#lab1a">Lab 1A:<br>Artemis</br></a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#lab1b">Lab 1B:<br>Bluetooth</br></a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#lab2">Lab 2:<br>IMU</br></a></li>
                </ul>
            </div>
        </nav>
        <!-- Page Content-->
        <div class="container-fluid p-0">
            <!-- About-->
            <section class="resume-section" id="about">
                <div class="resume-section-content">
                    <h1 class="mb-0">
                        Adrienne
                        <span class="text-primary">Yoon</span>
                    </h1>
                    <div class="subheading mb-5">
                        MAE 4190 Fast Robots ·
                        <a href="yay8@cornell.edu">yay8@cornell.edu</a>
                    </div>
                    <p class="lead mb-5">Hi! I am a senior in Mechanical Engineering interested in Robotics. 
                        I do research in Professor Cara Nunez's HAPPI Lab, and also have been a part of Cornell Electric Vehicles since freshman year. 
                        I like playing the guitar and listening to the same music over an over again! 
                        <br><i>Current no. 1 repeat on Spotify: Strong Girl by Niki</i></br> </p>
                </div>
            </section>
            <hr class="m-0" />
            <!--Lab 1A-->
            <section class="resume-section" id="lab1a">
                <div class="resume-section-content">
                    <h2 class="mb-5">Lab 1A: Artemis Prelab</h2>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">

                            <!--Prelab-->
                            <h3 class="mb-0">Prelab</h3>
                            <p>As I already had the latest version of IDE installed on my computer, all I had to do was read instructions and install the Sparkfun Apollo3 boards manager to add the required libraries.</p>

                            <!--Task 1-->
                            <h3 class="mb-0">Task 1: Connecting the Board</h3>
                            <p></p>
                            <p><img src="assets/img/lab1a/connect.jpg" alt="..." class="center"></p>
                            <p></p>
                            <p>I connected the board to my computer and selected the correct port.</p>

                            <!--Task 2-->
                            <h3 class="mb-0">Task 2: Blink</h3>
                            <p></p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/ZOLIxwHEHus?si=80r3sNfF1nsagUWf" 
                            title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            referrerpolicy="strict-origin-when-cross-origin" allowfullscreen class="center"></iframe>
                            <p></p>
                            <p>After burning the example code to the board, I could see the LED blinking. </p>

                            <!--Task 3-->
                            <h3 class="mb-0">Task 3: Serial Monitor</h3>
                            <p></p>
                            <p><img src="assets/img/lab1a/serial.jpg" alt="..." class="center"></p>
                            <p></p>
                            <p>After burning the example code, a series of strings were printed to the serial monitor. The error at the top was due to the mismatch in baud rate</p>

                            <!--Task 4-->
                            <h3 class="mb-0">Task 4: Temperature Data</h3>
                            <p></p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/hXaZfDfXhTY?si=bWcFD-V2IJDGt-Bf" 
                            title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            referrerpolicy="strict-origin-when-cross-origin" allowfullscreen class="center"></iframe>
                            <p></p>
                            <p>After burning the example code to the board, I grabbed it in my hand to warm it up. It takes some time, but the increase in temperature can be seen in the serial monitor.</p>

                            <!--Task 5-->
                            <h3 class="mb-0">Task 5: Microphone Output</h3>
                            <p></p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/vFFzTIOziWU?si=C1HZ99u3cBj7YEeV" 
                            title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            referrerpolicy="strict-origin-when-cross-origin" allowfullscreen class="center"></iframe>
                            <p></p>
                            <p>After burning the example code to the board, I whistled into the microphone on the Artemis. The change in frequency can be seen in the serial monitor.</p>
                        </div>
                    </div>
                </div>
            </section>
            <hr class="m-0" />
            
            <!--Lab 1B-->
            <section class="resume-section" id="lab1b">
                <div class="resume-section-content">
                    <h2 class="mb-5">Lab 1B: Bluetooth</h2>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">

                            <!--Prelab-->
                            <p></p>
                            <h3 class="mb-0">Prelab</h3>
                            <p>Before starting the tasks, I installed Bleak on my computer, as I was getting pip errors. 
                                After troubleshooting by restarting the Jupyter notebook, correcting directories, and reinstalling the codebase,
                                I reset the environment with the correct packages. I also had to grant Bluetooth access to IDE on my computer for the board to connect successfully.</p>
                            <p>For setting up the virtual environment named <i>FastRobots_ble</i>, I used the following commands provided:</p>
                            <p><pre><code>
                            python3 -m pip install --user virtualenv
                            python3 -m venv FastRobots_ble
                            </code></pre></p>
                            <p>Then, I created a folder '4190' to keep all my codes and environments for the class, and activated the BLE virtual environment by sourcing it.</p>
                            <p>To establish a bluetooth connection with my computer, I updated the Artemis MAC address. 
                                I connected my board, to the Arduino BLE and used <i>ble_arduino.ino</i> to print the MAC address to my serial monitor:</p>
                            <p><pre><code>
                            Advertising BLE with MAC: c0:81:19:26:a9:64
                            Connected to: 3c:6:30:b:ac:c1</code></pre></p>
                            <p>I then generated a UUID unique to my computer for secure connection, using the code provided in <i>demo.ipynb</i>:</p>
                            <p><img src="assets/img/lab1b/uuid.jpg" alt="..." class="center"></p>
                            <p></p>
                            <p>Lastly, I replaced the placeholders in the <i>connections.yaml</i> file with my MAC address and the UUID generated:</p>
                            <p><pre><code>
                            artemis_address: 'c0:81:19:26:a9:64'

                            ble_service: '2af9d444-52aa-4982-9222-fe8a1abfbced'

                            characteristics:
                            TX_CMD_STRING: '9750f60b-9c9c-4158-b620-02ec9521cd99'

                            RX_FLOAT: '27616294-3063-4ecc-b60b-3470ddef2938'
                            RX_STRING: 'f235a225-6735-4d73-94cb-ee5dfce9ba83'
                            </code></pre></p>
                            <p>After completing these steps, I could see the connection was successful.</p>
                            
                            <!--Codebase-->
                            <p></p>
                            <h3 class="mb-0">Codebase</h3>
                            <p>Writeup</p>

                            <!--Task 1-->
                            <h3 class="mb-0">Task 1: ECHO command</h3>
                            <p></p>
                            <p>The <code>ECHO</code> command sends a string from the computer to the Artemis board, which the computer then modifies and sends back. 
                                <code>tx_estring_value</code> adds <code>Robot says -> </code> to the front of the string and appends a 
                                <code>:)</code> at the end of the string, and <code>tx_characteristic_string</code> sends it to the computer.</p> 
                            
                            <p>The following is the Arduino code: </p>
                            <script src="https://gist.github.com/ysadrienne/2d53057a4f309e8e304d0cde86c476b6.js"></script>

                            <p>The following is the Python output when the string <code>"Hi"</code> is sent to the board: </p>
                            <p><img src="assets/img/lab1b/echo.jpg" alt="..." class="center"></p>

                            <!--Task 2-->
                            <h3 class="mb-0">Task 2: SEND_THREE_FLOATS command</h3>
                            <p></p>
                            <p>The <code>SEND_THREE_FLOATS</code> command sends three floats to the Artemis board, which the computer extracts and sends back. 
                                Like the <code>ECHO</code> command, <code>tx_estring_value</code> modifies the string by appending the floats, and <code>tx_characteristic_string</code> sends it to the computer.</p> 
                                
                            <p>The following is the Arduino code: </p>
                            <script src="https://gist.github.com/ysadrienne/a1242fe63bff4bca3d6098ecd1961667.js"></script>
                        
                            <p>The following is the Python output when floats <code>2.0|-6.0|0.5</code> are sent to the board: </p>
                            <p><img src="assets/img/lab1b/floats.jpg" alt="..." class="center"></p> 

                            <!--Task 3-->
                            <h3 class="mb-0">Task 3: GET_TIME_MILLIS command</h3>
                            <p></p>
                            <p>The <code>GET_TIME_MILLIS</code> command fetches a timestamp of how much time has elapsed since the board was connected, in milliseconds, then creates a string to print containing the information.  
                               the computer then prints. </p>
                            <p>Since this was a new command, after adding the command to the switch-case chain, I made sure to add it to <i>cmd_types.py</i> and <code>enum CommandTypes</code>. 
                                Same steps were taken for the remaining tasks that require creating a new command. For the two commands above (<code>ECHO</code> and <code>SEND_THREE_FLOATS</code>), this was unnecessary as they already existed in the file.</p>

                            <p>The following is the Arduino code, in which the timestamp is appended to a string <code>'T: '</code></p>
                            <script src="https://gist.github.com/ysadrienne/97627987be0ed39c09258e85adcdab11.js"></script>

                            <p>The following is the output printed to the serial monitor when the command is executed: </p> 
                            <p><img src="assets/img/lab1b/gettimesm.jpg" alt="..." class="center"></p> 
                            <p>The following is the Python output after execution, and we can see that the two numbers match, verifying successful transmission. </p> 
                            <p><img src="assets/img/lab1b/gettimepy.jpg" alt="..." class="center"></p> 

                            <!--Task 4-->
                            <h3 class="mb-0">Task 4: Setting Up Notification Handler</h3>
                            <p></p>
                            <p>To setup a notification handler, I referenced the Member Function table in the <i>demo.ipynb</i> file. </p>

                            <p>The following shows the Python code for the notification handler and an output of the timestamp extracted. 
                                It is printed as an array of 1 element, since I appended the string to an empty array called <code>times</code>. </p> 
                            <p><img src="assets/img/lab1b/handlerpy.jpg" alt="..." class="center"></p> 

                            <p>The serial monitor printed out the same timestamp, verifying successful transmission. </p>
                            <p><img src="assets/img/lab1b/handlersm.jpg" alt="..." class="center"></p>
                            <p>There was no new Arduino code, as all we are doing is receiving the string created by the <code>GET_TIME_MILLIS</code> command.</p>

                            <!--Task 5-->
                            <h3 class="mb-0">Task 5: Loop to Get Current Time</h3>
                            <p></p>
                            <p>In the <code>CURRENT_TIME_LOOP</code> command, I used a <code>for</code> loop to retrieve multiple timestamps to be sent to my computer and received by the notification handler.
                                I defined local variables <code>currentTime</code> and <code>startTime</code> to loop for 5000 milliseconds, and <code>timeCount</code> in order to track each timestamp to monitor how many were sent.
                                </p>
                            
                            <p>The following is the Arduino code: </p>
                            <script src="https://gist.github.com/ysadrienne/fd3b3fe269e1f975d3ce6a92728cdeb1.js"></script>

                            <p>The following is the last few lines of output in the serial monitor showing 568 datapoints: </p>
                            <p><img src="assets/img/lab1b/loopsm.jpg" alt="..." class="center"></p> 
                            
                            <p>On Python, I printed the number of datapoints from the loop to verify correct data transmission, as printing all datapoints would take up too much space. </p>
                            <p><img src="assets/img/lab1b/looppy.jpg" alt="..." class="center"></p> 

                            <p>568 messages were sent over 5 seconds, and the effective data transfer rate calculated is around 113.6 messages per second. 
                                One thing I did not consider when writing code for this is the size of each message -- There were 10 of 18 byte messages (single digit <code>timeCount</code>), 
                                89 of 19 byte messages (double digit <code>timeCount</code>), and 469 of 20 byte messages (triple digit <code>timeCount</code>) meaning the actual rate would be slightly different.</p>

                            <!--Task 6-->
                            <h3 class="mb-0">Task 6: Setting Up Time Array</h3>
                            <p></p>
                            <p>As opposed to sending individual messages one by one, the <code>SEND_TIME_DATA</code> command creates an array that stores 1000 timestamps using <code>millis()</code>. </p>
                            
                            <p>The following is the Arduino code: </p>
                            <script src="https://gist.github.com/ysadrienne/429347d53cc92ba9e6d6afd88117c2ac.js"></script>

                            <p>The first <code>for</code> loop creates and adds 1000 elements to an array called <code>timeArray</code>, 
                                and second <code>for</code> loop appends the data collected to a string to be printed.</p>

                            <p>The following is the last few lines of output in the serial monitor, where we can see 1000 datapoints were printed: </p>
                            <p><img src="assets/img/lab1b/arraysm.jpg" alt="..." class="center"></p> 
                                
                            <p>Similar to what I did for Task 5, I printed the length of the array on Python to verify correct data transmission, as printing all datapoints would take up too much space. </p> 
                            <p><img src="assets/img/lab1b/arraypy.jpg" alt="..." class="center"></p> 

                            <p>It wasn't captured in the screenshot above, but to calculate the effective data transfer rate, I counted the number of messages sent in a second by looking at the number of strings with the same timestamp.
                                There were 62 entries of 16 byte messages with the timestamp <code>257359</code>, so the rate was 62 messages per second, or 992 bytes per second.
                            </p>
                            
                            <!--Task 7-->
                            <h3 class="mb-0">Task 7: Setting Up Temperature Array with Time</h3>
                            <p></p>
                            <p>Like the <code>SEND_TIME_DATA</code> command, <code>GET_TEMP_READINGS</code> command creates an array with 1000 elements using <code>getTempDegF()</code>.
                                The difference is that now the array stores temperature readings in Fahrenheit (very much inferior to Celcius in my opinion), and prints both timestamp and temperature.</p>
                            
                            <p>In order to achieve this, I created another array called <code>tempArray</code> inside the first <code>for</code> loop, then appended the data to the string in the second <code>for</code> loop.</p>
                                 
                            <p>The following is the Arduino code: </p>
                            <script src="https://gist.github.com/ysadrienne/470e20de55b95c75f6fb12c8c6745c0f.js"></script>

                            <p>The following is the last few lines of output in the serial monitor, where we can see 1000 datapoints of timestamp and temperature were printed: </p>
                            <p><img src="assets/img/lab1b/temsm.jpg" alt="..." class="center"></p> 
                                
                            <p>Similar to what I did for Task 5 and 6, I printed the length of the array on Python to verify correct data transmission, as printing all datapoints would take up too much space. </p>
                            <p><img src="assets/img/lab1b/tempy.jpg" alt="..." class="center"></p>                         
                            
                            <!--Task 8-->
                            <h3 class="mb-0">Task 8: Difference Between Methods</h3>
                            <p></p>
                            <p>Discuss the differences between these two methods, the advantages and disadvantages of both and the potential scenarios that you might choose one method over the other. 
                                How “quickly” can the second method record data? The Artemis board has 384 kB of RAM. 
                                Approximately how much data can you store to send without running out of memory?</p>
                            
                            <!--Discussion-->
                            <h3 class="mb-0">Discussion</h3>
                            <p></p>
                            <p>This lab was a great exercise for me -- as a mechanical engineer with minimal coding background, it was a good level of difficulty to start with.
                                </p>
                            <p>It was also my first time using GitHub and HTML to create a website. Formatting was a bit tricky in the beginning,
                                but now I am quite satisfied with how I structured my HTML file and the presentation of my website (mostly thanks to the template). I feel more confident about adding future writeups!</p>

                            <!--References and Acknowledgements-->
                            <h3 class="mb-0">References and Acknowledgements</h3>
                            <p></p>
                            <ul>
                                <li>Evan Leong, Jeffery Cai, Steven Sun for being a personal TA for a lost mechE student, despite being students themselves</li>
                                <li>TA Chenyu Zhang for answering my question on Ed Discussion</li>
                                <li><a href="https://nila-n.github.io/Lab1b.html">Nila Narayan's website</a></li>
                                <li>ChatGPT for helping me add code to my css file to make small changes to the template</li>
                                <li><a href="https://startbootstrap.com/theme/resume">Bootstrap template for website</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
            <hr class="m-0" />

            <!--Lab 2-->
            <section class="resume-section" id="lab2">
                <div class="resume-section-content">
                    <h2 class="mb-5">Lab 2: IMU</h2>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Task 1: </h3>
                            <p>Writeup</p>
                        </div>
                    </div>
                </div>
            </section>
            <hr class="m-0" />            
            
        </div>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
